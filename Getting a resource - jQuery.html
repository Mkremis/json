<!DOCTYPE html>
<html>
<head>
	<!doctype html>
	<html lang="es">
	<meta charset="UTF-8">
		<title>Prueba con Ajax</title>
<style>

body{background-color:black; color:green;}
header h1{text-align:center;}
.header-menu h1{text-align:center}
.header-menu {justify-content: flex-end;height: 60px; font-size:20px;}
.header-menu ul li {display: inline-block; padding: 0 10px; list-style: none;}
aside {height:1080px;float:left; flex: 0.4; padding:0px 20px 0px 0px;border-left: 1px solid #fff;}
a:visited {color: blue;}
ul {list-style: none;}
a:hover{background-color:green;}
#menu_lateral a{text-decoration-line:none; font-weight:bold;}
section{color:white}

p, form{
		font-size:18px;
		color:blue;
		font-family: Arial, sans-serif;
		line-height:125%;}

#login .cerrado{
	background-image:url(imgs/close.png);
	background-color:white;}

#abierto:hover{
		color: rgb(0,0,0);
		background-color: green;}

#login form{
	padding: 2px 2px 2px 2px;
	display:none;
	background-color:white;
	right: 0px;
	top: 30px}


#login {
	width:200px;
	position: absolute;
	right: 10px;
	top: 0px;}

#abierto {	
	margin:0;
	cursor: pointer;
	background: rgb(255,255,255) url(imgs/open.png) no-repeat 2px 2px;
	color: rgb(58,80,123);
	padding: 5px 0 2px 30px;}



#login label{
	display: inline-block;
	width:100px;
	text-align:right;
	margin: 0 15px 0 0;
	color: rgb(58,80,123);}

#login input{
	font-size:14px;}

#login #boton{
	margin-left: 50px;}

</style>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
 
$(function(){
		//funcion Load
			$("a").click(function(){
			var url=$(this).attr("href");
			$("#contenedor").load(url);
			return false;
						});
		//login deslizante
			$("#abierto").click(function(){
			$("#login form").slideToggle(500);$(this).toggleClass("cerrado");});

		//procesando el formulario
			$("#form1").submit(function(){
				/* var datosFormulario={usuario:$("#usuario").val(), contra:$("#contra").val()};literal o paquete de datos */
				var datosFormulario=$("this").serialize(); //recoge automaticamente todos los valores del formulario y crea el paquete de datos que viaja al servidor
				$.get("login.php", datosFormulario, procesarDatos).error(procesarError);
					function procesarDatos(datos){
						if(datos=="autorizado"){$("#abierto p").html("bienvenido")} else {$("#abierto p").html("incorrecto")};
						return false;}
								});
					function procesarError(){var msgError="Ooops! ha ocurrido algo inesperado. Por favor, intentalo mas tarde"; 							$("#abierto p").html("<p>"+ msgError + "</p>")};
})//cierre de funcion ready
				
</script>

<head/>
<body>
	<header>
		<h1>JSONPlaceholder comes with a set of 6 common resources:<h1>
		<nav class="header-menu">
			<ul id="vinculos">
				<li><a href="https://jsonplaceholder.typicode.com/posts">/posts	100 posts</a></li>
				<li><a href="https://jsonplaceholder.typicode.com/comments">/comments	500 comments</a></li>
				<li><a href="https://jsonplaceholder.typicode.com/albums">albums	100 albums</a></li>
				<li><a href="https://jsonplaceholder.typicode.com/photos">/photos	5000 photos</a></li>
				<li><a href="https://jsonplaceholder.typicode.com/todos">/todos	200 todos</a></li>
				<li><a href="https://jsonplaceholder.typicode.com/users">/users	10 users</a></li>
			</ul>
		</nav>
	</header>

	<aside id="menu_lateral">
		<ul id="vinculos">
			<li><a href="https://jsonplaceholder.typicode.com/posts">/posts	100 posts</a></li>
			<li><a href="https://jsonplaceholder.typicode.com/comments">/comments	500 comments</a></li>
			<li><a href="https://jsonplaceholder.typicode.com/albums">albums	100 albums</a></li>
			<li><a href="https://jsonplaceholder.typicode.com/photos">/photos	5000 photos</a></li>
			<li><a href="https://jsonplaceholder.typicode.com/todos">/todos	200 todos</a></li>
			<li><a href="https://jsonplaceholder.typicode.com/users">/users	10 users</a></li>
		</ul>
	</aside>
<section id="contenedor"></section>

<div id="login">
<p id="abierto">Login</p>
<form method="get" action="login.php" id="form1">
	<p>
	<label for="usuario">Username:<label>
	<input type="text" name="usuario" id="usuario">
	</p>
	<p>
	<label for="contra">Password:<label>
	<input type="text" name="contra" id="contra">
	</p>
	<p>
	<input type="submit" name="boton" id="boton" value="Enviar">
	</p>
</form>
</div>

</body>
</html>

